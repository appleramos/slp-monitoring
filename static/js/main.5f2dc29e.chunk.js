(this["webpackJsonpslp-monitoring"]=this["webpackJsonpslp-monitoring"]||[]).push([[0],{191:function(e,t,a){},192:function(e,t,a){},292:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(25),i=a.n(s),c=(a(191),a(192),a(193),a(172)),l=a(31),o=a(81),d=a.n(o),u=a(136),j=a(45),b=a(27),p=a(137),h=a.n(p),x=a(60),m=a.n(x),O=(a(211),a(297)),f=a(178),v=a(301),g=a(295),y=a(33),w=a(307),k=a(303),S=a(185),C=a(181),P=a(304),I=a(305),L=a(296),_=a(302),R=a(127),D=a(299),A=a(7),E=Object(n.createContext)(),N=function(e){var t=JSON.parse(window.localStorage.getItem("players"))||{value:[]},a=Object(n.useState)(t),r=Object(j.a)(a,2),s=r[0],i=r[1],c=Object(n.useState)([]),l=Object(j.a)(c,2),o=l[0],d=l[1],u=Object(n.useState)({}),b=Object(j.a)(u,2),p=b[0],h=b[1],x=Object(n.useState)(),m=Object(j.a)(x,2),O=m[0],f=m[1],v=Object(n.useState)("peso"),g=Object(j.a)(v,2),y=g[0],w=g[1],k=Object(n.useState)(!1),S=Object(j.a)(k,2),C=S[0],P=S[1];return Object(A.jsx)(E.Provider,{value:{players:s,setPlayers:i,playersData:o,setPlayersData:d,selectedPlayer:p,setSelectedPlayer:h,slpRatePeso:O,setSlpRatePeso:f,earningsUnit:y,setEarningsUnit:w,slpRateLoading:C,setSlpRateLoading:P},children:e.children})},T=function(e){var t=e.onSubmit,a=e.onCancel,r=e.visible,s=Object(n.useContext)(E).selectedPlayer,i=parseInt(Object(b.get)(s,"isko_share",0)),c=Object(n.useState)(100-i),l=Object(j.a)(c,2),o=l[0],d=l[1],u=Object(n.useState)("Isko"===Object(b.get)(s,"type","Manager")),p=Object(j.a)(u,2),h=p[0],x=p[1],m=L.a.useForm(),O=Object(j.a)(m,1)[0],g=function(e){var a=window.localStorage.getItem("players"),n=JSON.parse(a)||{value:[]},r=e.name,i=e.address,c=e.type,l=e.isko_share,o=e.account_name;if(!s.name&&Object(b.filter)(n.value,(function(t){return t.address===e.address})).length>0)return void f.b.warning("The address you entered is already in the list");var d=""===l?0:parseInt(l);t({key:Date.now(),name:r||"",address:i||"",type:c,account_name:o,isko_share:d}),O.resetFields()};return Object(A.jsx)(v.a,{title:s.name?"Edit Player":"Add a Player",visible:r,onOk:function(){g(O.getFieldsValue())},onCancel:function(){a()},closable:!1,children:Object(A.jsxs)(L.a,{onFinish:g,name:"axie-user-form",form:O,onFieldsChange:function(){var e=O.getFieldValue(),t=e.isko_share,a=e.type;x("Isko"===a);var n=""===t?0:parseInt(t),r=100-n;d(n>100?0:r)},children:[Object(A.jsx)(L.a.Item,{name:"name",rules:[{required:!0,message:"Please input nickname"}],initialValue:s.name,children:Object(A.jsx)(_.a,{placeholder:"Nickname *"})}),Object(A.jsx)(L.a.Item,{name:"account_name",initialValue:s.account_name,children:Object(A.jsx)(_.a,{placeholder:"Account Name (optional)"})}),Object(A.jsx)(L.a.Item,{name:"address",rules:[{required:!0,message:"Please input player address"}],initialValue:s.address,children:Object(A.jsx)(_.a,{placeholder:"Etherium address *"})}),Object(A.jsx)(L.a.Item,{label:"Type",name:"type",initialValue:Object(b.get)(s,"type","Manager"),children:Object(A.jsxs)(R.a.Group,{buttonStyle:"solid",children:[Object(A.jsx)(R.a.Button,{value:"Isko",children:"Isko"}),Object(A.jsx)(R.a.Button,{value:"Manager",children:"Manager"})]})}),h&&Object(A.jsx)(L.a.Item,{label:"Isko's share",name:"isko_share",initialValue:Object(b.get)(s,"isko_share",60),help:"Manager's share is ".concat(o,"%"),rules:[{required:h,message:"Isko's share is required"}],children:Object(A.jsx)(D.a,{placeholder:"Isko's share",min:0,max:100,formatter:function(e){return"".concat(e,"%")},parser:function(e){return e.replace("%","")},disabled:!h})})]})})},F=a(39),M=a.n(F),J=a(298),U=a(306),B=a(294),G=a(182),V=a(183),q=J.a.Paragraph,z=function(e){var t=e.loading,a=e.onDelete,r=e.onEdit,s=Object(n.useContext)(E),i=s.players,c=s.playersData,l=function(e,t,a){var n=Object(b.filter)(c,(function(t){return t.id.toLowerCase()===e.toLowerCase()}));if(n.length>0){var r=n[0][t];switch(a){case"number":return M()(r).format("0,0");case"date":return m()(new Date(1e3*r)).format("LLL");case"decimal":return M()(r).format("0,0.0");default:return r}}return"-"},o=function(e){var t=e.substring(0,7),a=e.substring(e.length-5,e.length);return Object(A.jsx)(q,{copyable:{text:e.toLowerCase()},children:"".concat(t,"...").concat(a)})},d=function(e){r(e)},u=function(e){a(e)},j=[{title:"",render:function(e,t){return Object(A.jsxs)("div",{children:[Object(A.jsx)(w.a,{title:"Are you sure you want to delete ".concat(t.name,"?"),icon:Object(A.jsx)(C.a,{style:{color:"red"}}),onConfirm:function(){return u(t)},children:Object(A.jsx)(y.a,{type:"link",danger:!0,icon:Object(A.jsx)(G.a,{})})}),Object(A.jsx)(y.a,{type:"link",icon:Object(A.jsx)(V.a,{}),onClick:function(){return d(t)}})]})},width:5},{title:"Name",dataIndex:"name",key:"name",width:90,render:function(e,t){var a=t.type,r=t.isko_share,s=t.account_name,i=t.address,c=a||"Manager",l="Manager"===c?"gold":"cyan";return!isNaN(r)&&r||(r=0),Object(A.jsxs)("div",{children:[Object(A.jsxs)("div",{children:[Object(A.jsx)("span",{style:{fontWeight:"bold"},children:e}),s&&Object(A.jsxs)("span",{children:["\xa0|\xa0",s]})]}),Object(A.jsx)("div",{children:o(i)}),Object(A.jsxs)("div",{children:[0!==r&&Object(A.jsxs)(n.Fragment,{children:[Object(A.jsx)("span",{children:"".concat(r," / ").concat(100-r)}),Object(A.jsx)("span",{style:{marginRight:"10px"}})]}),Object(A.jsx)(U.a,{color:l,children:c})]})]})}},{title:"Claimed SLP",dataIndex:"address",key:"address",width:50,render:function(e,t){return Object(A.jsx)("span",{children:l(t.address,"claimable","number")})}},{title:"Locked SLP",dataIndex:"address",key:"address",width:50,render:function(e,t){return Object(A.jsx)("span",{children:l(t.address,"lockedSlp","number")})}},{title:"Total SLP",dataIndex:"address",key:"address",width:50,render:function(e,t){return Object(A.jsx)("span",{children:l(t.address,"total","number")})}},{title:"Daily Avg",dataIndex:"address",key:"address",width:50,render:function(e,t){return Object(A.jsx)("span",{children:l(t.address,"dailyAvg","decimal")})}},{title:"Last Claim Date",dataIndex:"address",key:"address",width:150,render:function(e,t){return Object(A.jsx)("span",{children:l(t.address,"lastClaimedAt","date")})}},{title:"Next Claim Date",dataIndex:"address",key:"address",width:150,render:function(e,t){return Object(A.jsx)("span",{children:l(t.address,"nextClaimDate","none")})}}];return Object(A.jsx)(B.a,{loading:t,dataSource:i.value,columns:j,scroll:{x:1300}})},H=a(184),W=J.a.Title,K=function(e){var t=e.value,a=e.title,n=e.style,r=void 0===n?{}:n,s=e.level,i=void 0===s?4:s,c=e.small;return Object(A.jsxs)("div",{style:Object(H.a)({},r),children:[Object(A.jsx)("div",{style:{marginRight:"30px",color:"gray"},children:a}),c?Object(A.jsx)("div",{children:t}):Object(A.jsx)(W,{level:i,children:t})]})},Q=function(){var e=Object(n.useContext)(E),t=e.players,a=e.playersData,r=e.slpRatePeso,s=e.earningsUnit;return Object(A.jsx)(n.Fragment,{children:Object(A.jsxs)("div",{style:{display:"flex",marginBottom:"15px",flexWrap:"wrap"},children:[Object(A.jsx)(K,{title:"Manager's Total Earnings",value:function(){var e=0;return t.value.forEach((function(t){var n=t.address,r=t.type,s=t.isko_share,i=Object(b.filter)(a,(function(e){return e.id.toLowerCase()===n.toLowerCase()}));if(i.length>0)if("Isko"===r){var c=100-s;e+=i[0].total*(c/100)}else e+=i[0].total})),"peso"===s?"PHP ".concat(M()(e*parseFloat(r)).format("0,0.00")):M()(e).format("0,0.0")}(),style:{marginRight:"20px"}}),Object(A.jsx)(K,{title:"Iskos' Total Earnings",value:function(){var e=0;return Object(b.filter)(t.value,{type:"Isko"}).forEach((function(t){var n=t.isko_share,r=t.address,s=Object(b.filter)(a,(function(e){return e.id.toLowerCase()===r.toLowerCase()}));if(s.length>0){var i=s[0].total*(n/100);e+=i}})),"peso"===s?"PHP ".concat(M()(e*r).format("0,0.00")):M()(e).format("0,0.0")}()})]})})},Y=function(){var e=Object(n.useContext)(E),t=e.players,a=e.playersData,r=e.slpRatePeso,s=function(e,t,n){var r=Object(b.filter)(a,(function(t){return t.id.toLowerCase()===e.toLowerCase()}));if(r.length>0){var s=r[0][t];switch(n){case"number":return M()(s).format("0,0");case"date":return m()(new Date(1e3*s)).format("LLL");case"decimal":return M()(s).format("0.0");default:return s}}return"-"},i=function(e,t){var n="",s="";if("Manager"===e.type)return"-";if(a){var i=Object(b.filter)(a,(function(t){return t.id.toLowerCase()===e.address.toLowerCase()}))[0];if(i&&e){var c=e.isko_share||0,l=0;0!==c&&(l=(s=i.total*(c/100))*r),n="PHP ".concat(M()(l).format("0,0.00"))}}return"slp"===t?M()(s).format("0,0.0"):n},c=function(e,t){var n="-",s="-";if(a){var i=Object(b.filter)(a,(function(t){return t.id.toLowerCase()===e.address.toLowerCase()}))[0];if(i&&e){var c=e.isko_share||0,l=100-c,o=i.total*r;s=i.total,0!==c&&(o=(s=i.total*(l/100))*r),n="PHP ".concat(M()(o).format("0,0.00"))}}return"slp"===t?M()(s).format("0,0.0"):n},l=[{title:"Name",dataIndex:"name",key:"name",width:10,render:function(e,t){var a=t.type,n=t.isko_share,r=a||"Manager",s="Manager"===r?"gold":"cyan";return Object(A.jsxs)("div",{children:[Object(A.jsxs)("div",{children:[Object(A.jsx)("span",{style:{fontWeight:"bold",marginRight:"10px"},children:e}),Object(A.jsx)(U.a,{color:s,children:r})]}),"Isko"===r&&"".concat(n," / ").concat(100-n)]})}},{title:"SLP Earned",dataIndex:"name",key:"name",width:10,render:function(e,t){return Object(A.jsx)("span",{children:s(t.address,"total","number")})}},{title:"Isko's Share",children:[{title:"SLP",dataIndex:"name",key:"name",width:10,render:function(e,t){return Object(A.jsx)("span",{children:i(t,"slp")})}},{title:"Peso",dataIndex:"name",key:"name",width:10,render:function(e,t){return Object(A.jsx)("span",{children:i(t,"peso")})}}]},{title:"Manager's Share",children:[{title:"SLP",dataIndex:"name",key:"name",width:10,render:function(e,t){return Object(A.jsx)("span",{children:c(t,"slp")})}},{title:"Peso",dataIndex:"name",key:"name",width:10,render:function(e,t){return Object(A.jsx)("span",{children:c(t,"peso")})}}]}];return Object(A.jsx)(B.a,{scroll:{x:700},dataSource:t.value,columns:l})},X=a(300),Z=J.a.Paragraph,$=J.a.Title,ee=function(){var e=Object(n.useContext)(E),t=e.slpRatePeso,a=e.setSlpRatePeso,r=e.earningsUnit,s=e.setEarningsUnit,i=e.slpRateLoading;return Object(A.jsxs)("div",{style:{marginBottom:"10px",display:"flex"},children:[Object(A.jsxs)("div",{children:[Object(A.jsx)("div",{style:{marginRight:"50px",color:"gray"},children:"SLP Rate in Peso"}),i?Object(A.jsx)(X.a.Input,{style:{width:40},active:!0,size:"small"}):Object(A.jsx)("div",{children:Object(A.jsx)($,{level:4,children:Object(A.jsx)(Z,{editable:{onChange:function(e){""!==e&&(a(parseFloat(e)),window.localStorage.setItem("slpRatePeso",parseFloat(e)))}},children:M()(t).format("0,0.00")})})})]}),Object(A.jsx)("div",{children:Object(A.jsx)(K,{title:"Earnings Unit",value:Object(A.jsx)(R.a.Group,{options:[{label:"Peso",value:"peso"},{label:"SLP",value:"slp"}],onChange:function(e){s(e.target.value)},value:r,optionType:"button",buttonStyle:"solid"})})})]})},te=function(){return Object(A.jsxs)("div",{children:[Object(A.jsx)(ee,{}),Object(A.jsx)(Q,{}),Object(A.jsx)(Y,{})]})},ae=a.p+"static/media/gcash.d3dcbc45.jpg",ne=function(){return Object(A.jsxs)("div",{children:[Object(A.jsx)(K,{title:"Ronin Address [apple-bit]",value:"ronin:786521e1ef005f71b9b454e6e4be48bdc645a3c6",level:5,style:{marginTop:"20px"}}),Object(A.jsx)(K,{title:"GCash",style:{marginTop:"20px"},value:Object(A.jsx)("img",{alt:"GCash QR",src:ae,style:{width:"50%"}}),level:5}),Object(A.jsx)(K,{title:"Developer",style:{marginTop:"20px"},value:"Apple Ramos",small:!0})]})},re=O.a.TabPane;var se=function(){var e=Object(n.useContext)(E),t=e.players,a=e.setPlayers,r=e.playersData,s=e.setPlayersData,i=e.selectedPlayer,c=e.setSelectedPlayer,l=e.setSlpRatePeso,o=e.slpRatePeso,p=e.setSlpRateLoading,x=window.localStorage.getItem("slpRatePeso")||1,L=Object(n.useState)(!0),_=Object(j.a)(L,2),R=_[0],D=_[1],N=Object(n.useState)(!1),F=Object(j.a)(N,2),M=F[0],J=F[1];Object(n.useEffect)((function(){B(),U()}),[]);var U=function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("https://api.coingecko.com/api/v3/simple/price?ids=smooth-love-potion&vs_currencies=php");case 3:(t=e.sent).data&&(a=Object(b.get)(t.data,"smooth-love-potion.php",o),l(a)),p(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),l(x),p(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}p(!0),function(){e.apply(this,arguments)}()},B=function(e){var a=[],n=e||t;function r(){return(r=Object(u.a)(d.a.mark((function e(t){var r,i,c,l,o,u,j;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h()("https://lunacia.skymavis.com/game-api/clients/".concat(t.address,"/items/1"));case 3:(r=e.sent).data&&(i=r.data,c=i.client_id,l=i.total,o=i.claimable_total,u=i.last_claimed_item_at,j=l-o,a.push({id:c,total:l||0,claimable:o||0,lockedSlp:j,lastClaimedAt:u,dailyAvg:G(u,j),nextClaimDate:V(u)})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a.push({id:"invalid-user-".concat(t.address),total:0,claimable:0,lockedSlp:0,lastClaimedAt:m()(),dailyAvg:0,nextClaimDate:m()()});case 10:s(a),a.length===n.value.length&&D(!1);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}n.value.length<1?D(!1):n.value.forEach((function(e){!function(e){r.apply(this,arguments)}(e)}))},G=function(e,t){var a=m()(new Date(1e3*e)),n=m()().diff(a,"days");return n<1?t:t/n},V=function(e){return m()(new Date(1e3*e)).add(14,"days").format("LLL")};return Object(A.jsxs)("div",{className:"SLP_Monitoring_App",style:{padding:"15px 25px",margin:"auto"},children:[Object(A.jsxs)("div",{style:{fontSize:"1.5em",fontWeight:"bold",marginBottom:"10px",display:"flex"},children:[Object(A.jsx)("div",{style:{flexGrow:"3"},children:Object(A.jsx)("span",{children:"SLP Tracker"})}),Object(A.jsxs)("div",{style:{textAlign:"right"},children:[Object(A.jsx)(y.a,{size:"large",shape:"circle",icon:Object(A.jsx)(k.a,{}),style:{marginRight:"10px",marginBottom:"5px"},onClick:function(){D(!0),s([]),B(),U()}}),Object(A.jsx)(y.a,{size:"large",type:"primary",shape:"round",icon:Object(A.jsx)(S.a,{}),onClick:function(){J(!0),c({})},children:"Player"})]})]}),M&&Object(A.jsx)(T,{onSubmit:function(e){D(!0);var n=Object(b.cloneDeep)(r),c=Object(b.cloneDeep)(t);h()("https://lunacia.skymavis.com/game-api/clients/".concat(e.address,"/items/1")).then((function(t){if(t.data){var r=t.data,l=r.client_id,o=r.total,d=r.claimable_total,u=r.last_claimed_item_at,j=o-d,p={id:l,total:o||0,claimable:d||0,lockedSlp:j,lastClaimedAt:u,dailyAvg:G(u,j),nextClaimDate:V(u)};if(i.name){var h=Object(b.findIndex)(n,(function(e){return e.id.toLowerCase()===i.address.toLowerCase()})),x=Object(b.findIndex)(c.value,(function(e){return e.address.toLowerCase()===i.address.toLowerCase()}));-1!==h&&-1!==x&&(n.splice(h,1,p),c.value.splice(x,1,e))}else n.push(p),c.value.push(e)}D(!1),s(n),window.localStorage.setItem("players",JSON.stringify(c)),a(c)})).catch((function(e){f.b.error("You entered an invalid etherium address"),D(!1)})),J(!1)},visible:!0,onCancel:function(){J(!1)},selectedPlayer:i}),Object(A.jsxs)(O.a,{defaultActiveKey:"1",children:[Object(A.jsx)(re,{tab:"Monitoring",children:Object(A.jsx)(z,{loading:R,onDelete:function(e){var n=Object(b.filter)(t.value,(function(t){return t.key!==e.key})),i=Object(b.filter)(r,(function(t){return t.id!==e.address}));a({value:n}),s(i),window.localStorage.setItem("players",JSON.stringify({value:n})),f.b.success("Successfully deleted ".concat(e.name))},onEdit:function(e){J(!0),c(e)}})},"1"),Object(A.jsx)(re,{tab:"Estimate Earnings",children:Object(A.jsx)(te,{})},"2")]}),Object(A.jsxs)("div",{style:{display:"flex"},children:[Object(A.jsxs)("div",{style:{flexGrow:3},children:[Object(A.jsx)("span",{style:{color:"gray"},children:"\xa9 2021 Apple Ramos\xa0\xa0\xa0|"}),Object(A.jsx)(y.a,{type:"link",onClick:function(){v.a.info({title:"Donation channels",content:Object(A.jsx)(ne,{}),onOk:function(){}})},children:"Donate"})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)(w.a,{title:"This will export a JSON file of your data",icon:Object(A.jsx)(C.a,{style:{color:"red"}}),onConfirm:function(){var e="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t)),a=document.createElement("a");a.setAttribute("href",e),a.setAttribute("download","monitoring_players_".concat(Date.now(),".json")),document.body.appendChild(a),a.click(),a.remove()},children:Object(A.jsx)(y.a,{shape:"round",style:{marginRight:"10px"},icon:Object(A.jsx)(P.a,{}),children:"Export"})}),Object(A.jsx)(g.a,{name:"players_json",accept:".json",maxCount:1,action:function(e){var t=new FileReader;t.readAsText(e),t.onload=function(){var e=JSON.parse(t.result);a(e),window.localStorage.setItem("players",JSON.stringify(e)),D(!0),B(e)}},beforeUpload:function(e){return"application/json"!==e.type&&f.b.error("".concat(e.name," is not a JSON file")),"application/json"===e.type||g.a.LIST_IGNORE},showUploadList:!1,children:Object(A.jsx)(y.a,{shape:"round",icon:Object(A.jsx)(I.a,{}),children:"Import (JSON)"})})]})]})]})};var ie=function(){return Object(A.jsx)(c.a,{children:Object(A.jsx)(N,{children:Object(A.jsxs)(l.d,{children:[Object(A.jsx)(l.b,{exact:!0,path:"/slp-monitoring",component:se}),Object(A.jsx)(l.a,{to:"/slp-monitoring"})]})})})},ce=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,308)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),s(e),i(e)}))};i.a.render(Object(A.jsx)(r.a.StrictMode,{children:Object(A.jsx)(ie,{})}),document.getElementById("root")),ce()}},[[292,1,2]]]);
//# sourceMappingURL=main.5f2dc29e.chunk.js.map